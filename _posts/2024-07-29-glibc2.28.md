---
categories: [Linux]
tags: [server]
---


# glibc2.17å‡çº§åˆ°2.28

**æ³¨æ„è®°å¾—è¦å¤‡ä»½ï¼Œglibcæ¶‰åŠåˆ°åº•å±‚ç³»ç»Ÿï¼Œå‡çº§å¤±è´¥ä¼šå¯¼è‡´ç³»ç»Ÿè¿›ä¸å»**


```bash
    å®¢æˆ·è‡ªå·±ä¸‹è½½äº†ä¸€ä¸ªMysql8.4.2ï¼Œå¯åŠ¨ä¸äº†ï¼Œçœ‹æç¤ºæ˜¯glibcç‰ˆæœ¬ä¸ç¬¦åˆè¦æ±‚ï¼Œéœ€è¦æ˜¯2.28ç‰ˆæœ¬ï¼Œå…¶å®Mysqlæœ‰glibc2.17çš„ç‰ˆæœ¬ï¼Œä½†è°è®©å®¢æˆ·æ˜¯é‡‘ä¸»ï¼Œå®¢æˆ·è¦æ±‚ä»€ä¹ˆå’±å°±åšä»€ä¹ˆï¼Œè§£å†³é—®é¢˜ğŸ¥°

æœåŠ¡å™¨ç‰ˆæœ¬æ˜¯ Centos 7.9

å…ˆçœ‹ä¸‹gccç‰ˆæœ¬
gcc -v
gcc version 4.8.5 20150623 (Red Hat 4.8.5-44.0.3) (GCC)
ç‰ˆæœ¬ä¸ç¬¦åˆå®‰è£…glibc2.28ï¼Œéœ€è¦å‡çº§gccç‰ˆæœ¬åˆ°8.2.0

å®‰è£…å¿…å¤‡ç»„ä»¶
yum install -y bison gcc gcc-c++ glibc-headers
å‡çº§makeç‰ˆæœ¬åˆ°4.2.1
wget -c https://ftp.gnu.org/gnu/make/make-4.1.tar.gz
tar -zxvf make-4.2.1.tar.gz
cd make-4.2.1
mkdir build
cd build
../configure --prefix=/usr
ç¼–è¯‘å®Œæˆåæ‰§è¡Œ
sh build.sh
make install

å‡çº§gcc
wget -c https://ftp.gnu.org/gnu/gcc/gcc-8.2.0/gcc-8.2.0.tar.gz
tar xzf gcc-8.2.0.tar.gz
cd gcc-8.2.0
./contrib/download_prerequisites
mkdir build
cd bulid
../configure --prefix=/usr/local/gcc-8.2.0 --enable-bootstrap --enable-checking=release --enable-languages=c,c++ --disable-multilib
make -j $(nproc)
make install

ln -s /usr/local/gcc-8.2.0/bin/gcc /usr/bin/gcc
ln -s /usr/local/gcc-8.2.0/bin/g++ /usr/bin/g++

cp /usr/local/gcc-8.2.0/lib64/libstdc++.so.6.0.25 /usr/lib64/
cd /usr/lib64
rm -rf libstdc++.so.6
ln -s libstdc++.so.6.0.25 libstdc++.so.6

å®‰è£…glibc2.28
wget -c https://ftp.gnu.org/gnu/glibc/glibc-2.28.tar.gz
tar xzf glibc-2.28.tar.gz
cd glibc-2.28
mkdir build
cd bulid
../configure --prefix=/usr --disable-profile --enable-add-ons --with-headers=/usr/include --with-binutils=/usr/bin
make -j $(nproc)
make install

å®ŒæˆåéªŒè¯ä¸‹glibcçš„ç‰ˆæœ¬
strings /lib64/libc.so.6 | grep GLIBC_

å†å»å¯åŠ¨mysqlï¼ŒæˆåŠŸğŸ˜„


```